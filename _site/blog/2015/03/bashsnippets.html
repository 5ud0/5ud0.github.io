<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="p:domain_verify" content="334a26f18c0712cdb390e9eba0ef9f50"/> <title>Bash Snippets</title> <meta name="description" content="Set of small scripts, which demonstrate some features of bash programming.12345678//=========================================================================..."> <meta name="keywords" content="Code, Backend, Front-End,Revanth, Revoori, Revoori Sai Revanth, Revanth Revoori , IIT, kharagpur, iit kharagpur, computer science, Art, Gridants,HTMedia, Photography, blog, code, bash, snippet"/> <link rel="canonical" href="http://rrevanth.github.io/blog/2015/03/bashsnippets"> <link rel="alternate" type="application/rss+xml" title="Revanth Revoori" href="http://rrevanth.github.io/feed.xml"/> <script>var filesadded="";function loadjscssfile(e,d){if("js"==d){var f=document.createElement("script");f.setAttribute("type","text/javascript"),f.setAttribute("async","true"),f.setAttribute("src",e)}else{if("css"==d){var f=document.createElement("link");f.setAttribute("rel","stylesheet"),f.setAttribute("type","text/css"),f.setAttribute("href",e)}}"undefined"!=typeof f&&document.getElementsByTagName("head")[0].appendChild(f)};</script> <script>function checkloadjscssfile(d,c){return -1==filesadded.indexOf("["+d+"]")?(loadjscssfile(d,c),filesadded+="["+d+"]",0):1};</script> <script>checkloadjscssfile("//d1cq0y1aounrbr.cloudfront.net/css/main.css","css");checkloadjscssfile("//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js","js");</script> <noscript> <link href="//d1cq0y1aounrbr.cloudfront.net/css/main.css" rel='stylesheet' type='text/css'> <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script> </noscript> <script>var cb=function(){var a=document.createElement("link");a.rel="stylesheet";a.href="//fonts.googleapis.com/css?family=Lato:400,700";var b=document.getElementsByTagName("head")[0];b.parentNode.insertBefore(a,b)};var raf=requestAnimationFrame||mozRequestAnimationFrame||webkitRequestAnimationFrame||msRequestAnimationFrame;if(raf){raf(cb)}else{window.addEventListener("load",cb)};</script> <noscript> <link href="//fonts.googleapis.com/css?family=Lato:400,700" rel='stylesheet' type='text/css'> </noscript> <script>var cb=function(){var a=document.createElement("link");a.rel="stylesheet";a.href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css";var b=document.getElementsByTagName("head")[0];b.parentNode.insertBefore(a,b)};var raf=requestAnimationFrame||mozRequestAnimationFrame||webkitRequestAnimationFrame||msRequestAnimationFrame;if(raf){raf(cb)}else{window.addEventListener("load",cb)};</script> <noscript> <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css" rel='stylesheet' type='text/css'> </noscript> <meta content="904043863024065" property="fb:app_id"> <meta content="Revanth Revoori" property="og:site_name"> <meta content="Bash Snippets" property="og:title"> <meta content="article" property="og:type"> <meta content="I am a developer, photography enthusiast, and self-proclaimed music connoisseur.This is where I write about awesome things that intrigue me." property="og:description"> <meta content="http://rrevanth.github.io/blog/2015/03/bashsnippets" property="og:url"> <meta content="2015-03-02T23:10:34+05:30" property="article:published_time"> <meta content="http://rrevanth.github.io/about/" property="article:author"> <meta content="http://rrevanth.github.io/favicon.ico" property="og:image"> <meta content="blog" property="article:section"> <meta content="blog" property="article:tag"> <meta content="code" property="article:tag"> <meta content="bash" property="article:tag"> <meta content="snippet" property="article:tag"> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@revanth001reva"> <meta name="twitter:creator" content="@revanth001reva"> <meta name="twitter:title" content="Bash Snippets"> <meta name="twitter:url" content="http://rrevanth.github.io/blog/2015/03/bashsnippets"> <meta name="twitter:description" content="I am a developer, photography enthusiast, and self-proclaimed music connoisseur.This is where I write about awesome things that intrigue me."> <meta name="twitter:image:src" content="http://rrevanth.github.io/favicon.ico"> </head> <body> <header class="site-header"> <div class="wrapper"> <a class="site-title" href="/">Revanth Revoori</a> <nav class="home-links"> <ul> <li><a class="link-border" href="/reads" title="Reads"><i class="fa fa-bookmark"></i></a></li> <i class="fa fa-bolt"></i> <li><a class="link-border" href="/videos" title="Videos"><i class="fa fa-video-camera"></i></a></li> <i class="fa fa-bolt"></i> <li><a class="link-border" href="/photos" title="Photos"><i class="fa fa-camera-retro"></i></a></li> <i class="fa fa-bolt"></i> <li><a class="link-border" href="/search" title="Search"><i class="fa fa-search"></i></a></li> </ul> </nav> </div> </header> <div class="page-content"> <div class="wrapper"> <div class="post"> <header class="post-header"> <br> <h1 class="post-title"><b>Bash Snippets</b></h1> <p class="post-meta"><a class="author" href="/about">Revanth Revoori</a> - Mar 2, 2015</p> <a class="tags" href="/tag/blog">blog</a> <a class="tags" href="/tag/code">code</a> <a class="tags" href="/tag/bash">bash</a> <a class="tags" href="/tag/snippet">snippet</a> </header> <article class="post-content"> <br> <p>Set of small scripts, which demonstrate some features of bash programming.</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre>//<span class="o">===================================================================================</span>
// <span class="nb">set </span>new prompt
//<span class="o">===================================================================================</span>

<span class="nv">PS1</span><span class="o">=</span><span class="s2">"&gt;"</span>
<span class="nv">PS1</span><span class="o">=</span><span class="s2">"[</span><span class="k">${</span><span class="nv">LOGNAME</span><span class="k">}</span><span class="s2">@</span><span class="k">$(</span>hostname<span class="k">)</span><span class="s2">] # "</span>
<span class="nv">PS1</span><span class="o">=</span><span class="s2">"[</span><span class="k">${</span><span class="nv">LOGNAME</span><span class="k">}</span><span class="s2">] # "</span>
<span class="nv">PS1</span><span class="o">=</span><span class="s1">'$PWD $ '</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9</pre></td><td class="code"><pre>//<span class="o">===================================================================================</span>
// <span class="nb">set</span> <span class="o">(</span>and automatically create<span class="o">)</span> shell variable
//<span class="o">===================================================================================</span>

<span class="gp">$ </span><span class="nb">test</span><span class="o">=</span><span class="s2">"test"</span>

<span class="gp">$ </span><span class="nv">homedir</span><span class="o">=</span><span class="s1">'pwd'</span>

<span class="nv">string</span><span class="o">=</span><span class="s2">"The man said </span><span class="se">\"</span><span class="s2"> hello </span><span class="se">\"</span><span class="s2">."</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre>//<span class="o">===================================================================================</span>
// To use the variable within the shell, it is preceded by a <span class="err">$</span>
//<span class="o">===================================================================================</span>
<span class="nv">homedir</span><span class="o">=</span><span class="nv">$HOME</span>
<span class="nb">cd</span> <span class="nv">$homedir</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9</pre></td><td class="code"><pre>//<span class="o">===================================================================================</span>
// how to print shell variable
//<span class="o">===================================================================================</span>

<span class="nb">echo </span>PS1

<span class="nb">echo</span> <span class="nv">$PS1</span>

<span class="nb">echo</span> <span class="nv">$USERNAME</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td><td class="code"><pre>//<span class="o">===================================================================================</span>
// predefined shell variables
//<span class="o">===================================================================================</span>
HOME    name of users login directory
IFS     internal field separators
PATH    search path used <span class="k">for </span>finding commands
PS1     shell prompt
OSTYPE
USERNAME
SHELL <span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre>//<span class="o">===================================================================================</span>
// The shell supports pattern matching
//<span class="o">===================================================================================</span>
<span class="k">*</span> Match all characters <span class="k">in </span>a string 
? Match a single character

ls <span class="k">*</span>.dat<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre>//<span class="o">===================================================================================</span>
// Command Substitution
//<span class="o">===================================================================================</span>
<span class="nv">today</span><span class="o">=</span><span class="sb">`</span>date<span class="sb">`</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre>//<span class="o">===================================================================================</span>
<span class="c">#---------------------------------------------------</span>
<span class="c"># empty sh script program</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># comments</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>
<span class="c"># this is comment</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># printing of string constant</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>
<span class="nb">echo</span> <span class="s1">'hello'</span>
<span class="nb">echo</span> <span class="s2">"hello"</span>
<span class="nb">echo </span>hello<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># declaration and printing of string variable</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">x</span><span class="o">=</span><span class="s1">'Wonderful new World'</span>
<span class="nb">echo</span> <span class="nv">$x</span>
<span class="nb">echo </span>x <span class="c"># just string 'x'</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># call of other programs</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>
ls<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># indirect call of other programs</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">x</span><span class="o">=</span><span class="s1">'pwd'</span>
<span class="nv">$x</span>

<span class="nv">x</span><span class="o">=</span><span class="s1">'ls -l'</span>
<span class="nv">$x</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># indirect call with indirect parameters</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>
<span class="nv">u</span><span class="o">=</span><span class="s1">'-l'</span>

<span class="nv">x</span><span class="o">=</span><span class="s1">'ls '</span>

<span class="nv">$x</span> <span class="nv">$u</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># print current shell name ???</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="nv">$SHELL</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># Anything enclosed in double quotes is passed on exactly </span>
<span class="c"># as presented with the exception that the values of </span>
<span class="c"># shell variables are substituted</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">v1</span><span class="o">=</span><span class="s2">"abc "</span>
<span class="nv">v2</span><span class="o">=</span><span class="s2">"</span><span class="nv">$v1</span><span class="s2"> d"</span>
<span class="nb">echo</span> <span class="nv">$v1</span> <span class="nv">$v2</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># Any matter enclosed in single quotes is passed on </span>
<span class="c"># exactly as presented. The values of shell variables </span>
<span class="c"># are not substituted. </span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">v1</span><span class="o">=</span><span class="s2">"abc"</span>
<span class="nv">v2</span><span class="o">=</span><span class="s1">'$v1 d'</span>
<span class="nb">echo</span> <span class="nv">$v1</span> <span class="nv">$v2</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># Back quotes are used to enclose commands. An item</span>
<span class="c"># enclosed in back quotes is replaced by the standard</span>
<span class="c"># output of the command. Shell variable values</span>
<span class="c"># are substituted within back quotes.</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">date</span><span class="o">=</span><span class="sb">`</span>date<span class="sb">`</span>
<span class="nb">echo </span>the date is <span class="nv">$date</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># escaping</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">msg</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo </span>Your Current Directory is <span class="se">\`</span><span class="nb">pwd</span><span class="se">\`</span><span class="sb">`</span>

<span class="nb">echo</span> <span class="nv">$msg</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># reading of text line from keyboard</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">read </span>x

<span class="nb">echo</span> <span class="nv">$x</span>
<span class="nb">echo</span> <span class="nv">$x</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># reading of text line from keyboard with help comment</span>
<span class="c"># echo without new line at the end</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> -n <span class="s2">"Input text line=? "</span>
<span class="nb">read </span>x

<span class="nb">echo</span> <span class="nv">$x</span>
<span class="nb">echo</span> <span class="nv">$x</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># syntax:  many commands in one line !!!!</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s2">"a"</span>; <span class="nb">echo</span> <span class="s2">"b"</span>; <span class="nb">echo</span> <span class="s2">"c"</span>

<span class="nv">var</span><span class="o">=</span>5; <span class="nb">echo</span> <span class="sb">`</span>expr <span class="nv">$var</span> + <span class="nv">$var</span><span class="sb">`</span> <span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># integer variable and its increment</span>
<span class="c"># does not works in sh !!!</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nv">var</span><span class="o">=</span>12345
<span class="nb">let </span><span class="nv">var</span><span class="o">=</span><span class="nv">$var</span>+1 <span class="c"># let is important</span>
<span class="nb">echo</span> <span class="nv">$var</span>

<span class="nv">v</span><span class="o">=</span>12345
<span class="nv">v</span><span class="o">=</span><span class="nv">$v</span>+1 <span class="c"># result "12345+1"</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># integer arithmetics - bash only !</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s1">'number=?'</span> ; <span class="nb">read </span>x

<span class="nb">let </span><span class="nv">y</span><span class="o">=</span><span class="nv">$x</span>+<span class="nv">$x</span> ; <span class="nb">echo</span> <span class="s1">'x+x='</span> <span class="nv">$y</span>

<span class="nb">let </span><span class="nv">y</span><span class="o">=</span><span class="nv">$x</span><span class="k">*</span><span class="nv">$x</span> ; <span class="nb">echo</span> <span class="s1">'square='</span> <span class="nv">$y</span>

<span class="nb">let </span><span class="nv">y</span><span class="o">=</span><span class="nv">$x</span>/3 ; <span class="nb">echo</span> <span class="s1">'x/3='</span> <span class="nv">$y</span>

<span class="nb">let </span><span class="nv">y</span><span class="o">=</span><span class="nv">$x</span>%7 ; <span class="nb">echo</span> <span class="s1">'x%7='</span> <span class="nv">$y</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># integer arithmetics in sh !!! using expr - slow</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">a</span><span class="o">=</span>123
<span class="nv">b</span><span class="o">=</span>12

<span class="nv">c</span><span class="o">=</span><span class="sb">`</span>expr <span class="nv">$a</span> + <span class="nv">$b</span><span class="sb">`</span> <span class="c"># addition</span>
<span class="nb">echo</span> <span class="nv">$c</span>

<span class="nv">c</span><span class="o">=</span><span class="sb">`</span>expr <span class="nv">$a</span> <span class="se">\*</span> <span class="nv">$b</span><span class="sb">`</span> <span class="c"># multiplication</span>
<span class="nb">echo</span> <span class="nv">$c</span>

<span class="nv">c</span><span class="o">=</span><span class="sb">`</span>expr <span class="nv">$a</span> / <span class="nv">$b</span><span class="sb">`</span> <span class="c"># division</span>
<span class="nb">echo</span> <span class="nv">$c</span>

<span class="nv">c</span><span class="o">=</span><span class="sb">`</span>expr <span class="nv">$a</span> % <span class="nv">$b</span><span class="sb">`</span> <span class="c"># residual</span>
<span class="nb">echo</span> <span class="nv">$c</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># very simple 'if' </span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s1">'number=?'</span>
<span class="nb">read </span>x

<span class="k">if</span> <span class="o">[</span> <span class="nv">$x</span> -eq 5 <span class="o">]</span>
<span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"five"</span>
<span class="k">fi</span>  <span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># if ... else</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s1">'number=?'</span>
<span class="nb">read </span>x

<span class="k">if</span> <span class="o">[</span> <span class="nv">$x</span> -eq 5 <span class="o">]</span>
<span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"five"</span>
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"not 5"</span>  
<span class="k">fi</span>  <span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># if ... elif ... else</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s1">'number=?'</span>
<span class="nb">read </span>x

<span class="k">if</span> <span class="o">[</span> <span class="nv">$x</span> -eq 5 <span class="o">]</span>
<span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"five"</span>
<span class="k">elif</span> <span class="o">[</span> <span class="nv">$x</span> -eq 7 <span class="o">]</span>
<span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"seven"</span>  
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"not 5 and not 7"</span>  
<span class="k">fi</span>  <span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># comparison -lt  and  -gt, nested if</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> -n <span class="s1">'number=?'</span>
<span class="nb">read </span>x

<span class="k">if</span> <span class="o">[</span> <span class="nv">$x</span> -gt 0 <span class="o">]</span>
<span class="k">then
  if</span> <span class="o">[</span> <span class="nv">$x</span> -lt 10 <span class="o">]</span>
  <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"0 &lt; x &lt; 10"</span>
  <span class="k">fi
fi</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># while loop - print first 10 integers from 0</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nv">x</span><span class="o">=</span>0

<span class="k">while</span>  <span class="o">[</span> <span class="nv">$x</span> -lt 10 <span class="o">]</span>
<span class="k">do
  </span><span class="nb">echo</span> <span class="nv">$x</span>
  <span class="nb">let </span><span class="nv">x</span><span class="o">=</span><span class="nv">$x</span>+1
<span class="k">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># 10 random numbers generation</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nv">i</span><span class="o">=</span>0
<span class="k">while</span> <span class="o">[</span> <span class="nv">$i</span> -lt 10 <span class="o">]</span>
<span class="k">do
  </span><span class="nv">x</span><span class="o">=</span><span class="nv">$RANDOM</span>
  <span class="nb">echo</span> <span class="nv">$x</span>
  <span class="nb">let </span><span class="nv">i</span><span class="o">=</span><span class="nv">$i</span>+1
<span class="k">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># endless loop: interrupting by ctrl-c</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="k">while</span> <span class="o">[</span> 1 <span class="o">]</span>
<span class="k">do
  </span><span class="nb">read </span>x
  <span class="nb">echo</span> <span class="nv">$x$x</span>
<span class="k">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># divisors of integer number</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nb">echo</span> -n <span class="s1">'number=?'</span>
<span class="nb">read </span>x

<span class="nv">i</span><span class="o">=</span>2 <span class="c"># possible divisor</span>
<span class="nv">k</span><span class="o">=</span>1
<span class="nb">let </span><span class="nv">n</span><span class="o">=</span><span class="nv">$x</span>/2 <span class="c"># top limit for divisor</span>

<span class="k">while</span> <span class="o">[</span> <span class="nv">$i</span> -le <span class="nv">$n</span> <span class="o">]</span>
<span class="k">do
  </span><span class="nb">let </span><span class="nv">k</span><span class="o">=</span><span class="nv">$x</span>%<span class="nv">$i</span> <span class="c"># residual</span>
  <span class="k">if</span> <span class="o">[</span> <span class="nv">$k</span> -eq 0 <span class="o">]</span>
  <span class="k">then
    </span><span class="nb">echo</span> -n <span class="s2">"Divisor= "</span>
    <span class="nb">echo</span> <span class="nv">$i</span>
  <span class="k">if
  </span><span class="nb">let </span><span class="nv">i</span><span class="o">=</span><span class="nv">$i</span>+1
<span class="k">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># simple use of  for ... in ...</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="k">for </span>i <span class="k">in</span> <span class="s2">"abc"</span> <span class="s2">"xyz"</span> 1 2 99
<span class="k">do
  </span><span class="nb">echo</span> <span class="nv">$i</span>
<span class="k">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># use for as in C-programming</span>
<span class="c"># sum of the first n integer numbers</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nb">echo</span> -n <span class="s2">"number=?"</span>
<span class="nb">read </span>n

<span class="nv">s</span><span class="o">=</span>0 <span class="c"># here sum</span>

<span class="k">for</span><span class="o">((</span><span class="nv">i</span><span class="o">=</span>1; i &lt;<span class="o">=</span>n ; i++<span class="o">))</span>
<span class="k">do
  </span><span class="nb">let </span><span class="nv">s</span><span class="o">=</span><span class="nv">$s</span>+<span class="nv">$i</span> 
<span class="k">done

</span><span class="nb">echo</span> <span class="s2">"sum= "</span><span class="nv">$s</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># operator case for selection of logical branches</span>
<span class="c"># end marker ;; of branch</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s2">"input string=?"</span>
<span class="nb">read </span>str

<span class="k">case</span> <span class="s2">"</span><span class="nv">$str</span><span class="s2">"</span> <span class="k">in
  </span>abc<span class="p">)</span> <span class="nb">echo</span> <span class="s2">"string = abc"</span> 
    <span class="p">;;</span>
  xyz<span class="p">)</span> <span class="nb">echo</span> <span class="s2">"string = xyz"</span> 
    <span class="p">;;</span>
  <span class="k">*</span><span class="p">)</span>   <span class="nb">echo</span> <span class="s2">"not abc, not zyz"</span> <span class="p">;;</span>
<span class="k">esac</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># exit operator</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="k">while</span> <span class="o">[</span> 1 <span class="o">]</span>
<span class="k">do
  </span><span class="nb">read </span>x
  <span class="nb">echo</span> <span class="nv">$x</span>
  <span class="k">if</span> <span class="o">[</span> <span class="nv">$x</span> -eq 0 <span class="o">]</span> <span class="c"># in $x must be number!</span>
  <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"script done ..."</span>
    <span class="nb">exit </span>0
  <span class="k">fi
done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># string comparing</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s2">"Input string=?"</span>
<span class="nb">read </span>str

<span class="k">if</span> <span class="o">[</span> <span class="nv">$str</span> <span class="o">=</span> <span class="s2">"abc"</span> <span class="o">]</span>
<span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"You got it!"</span>
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"Its not 'abc'"</span>
<span class="k">fi</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># simple strings concatenation</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s2">"Input string=?"</span>
<span class="nb">read </span>str

<span class="nv">s2</span><span class="o">=</span><span class="nv">$str</span><span class="s2">"AAAA"</span>
<span class="nb">echo</span> <span class="nv">$s2</span>

<span class="nv">s3</span><span class="o">=</span><span class="s2">"XXX"</span><span class="nv">$s2</span>
<span class="nb">echo</span> <span class="nv">$s3</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># strings concatenation</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s2">"Input string=?"</span>
<span class="nb">read </span>str1

<span class="nb">echo</span> <span class="s2">"Input second string=?"</span>
<span class="nb">read </span>str2

<span class="nv">s3</span><span class="o">=</span><span class="nv">$str1$str2</span> <span class="c"># it works!</span>
<span class="nb">echo</span> <span class="nv">$s3</span>

<span class="nv">s4</span><span class="o">=</span><span class="k">${</span><span class="nv">str1</span><span class="k">}${</span><span class="nv">str2</span><span class="k">}</span> <span class="c"># it works too!</span>
<span class="nb">echo</span> <span class="nv">$s4</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># testing whether a string is null</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s2">"Input string=?"</span>
<span class="nb">read </span>str

<span class="k">if</span> <span class="o">[</span> <span class="nv">$str</span> <span class="o">]</span>
<span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"Not empty"</span>
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"Empty"</span>
<span class="k">fi</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># length of string</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s2">"Input string=?"</span>
<span class="nb">read </span>str

<span class="nv">leng</span><span class="o">=</span><span class="sb">`</span>expr length <span class="nv">$str</span><span class="sb">`</span>
<span class="nb">echo</span> <span class="s2">"length= "</span><span class="nv">$leng</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># how to insert string to constant string</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">var</span><span class="o">=</span><span class="s2">"good"</span>

<span class="nb">echo</span> <span class="s2">"This is </span><span class="nv">$var</span><span class="s2"> test"</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># simplest function example</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="c">#---------------------------</span>
func<span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">"Inside function"</span>
<span class="o">}</span>

<span class="c">#---------------------------</span>
<span class="nb">echo</span> <span class="s2">"Now function call..."</span>
func
<span class="nb">echo</span> <span class="s2">"end of main"</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># function can see variables of main program</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="c">#--------------------------</span>
func<span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="nv">$var</span>
<span class="o">}</span>
<span class="c">#--------------------------</span>

<span class="nv">var</span><span class="o">=</span><span class="s2">"test of global "</span>
func<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># pass of parameters to function</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="c">#---------------------------------</span>
func<span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">"We are in function now"</span>
  <span class="nb">echo</span> <span class="nv">$0</span>  <span class="c"># shell script name</span>
  <span class="nb">echo</span> <span class="nv">$1</span>  <span class="c"># first parameter</span>
  <span class="nb">echo</span> <span class="nv">$2</span>  <span class="c"># second parameter</span>
  <span class="nb">echo</span> <span class="s2">"We leave function..."</span>
  <span class="nb">exit </span>0
<span class="o">}</span>

<span class="c">#---------------------------------</span>

func  123  <span class="s2">"abc"</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># passing variable parameters</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="c">#-------------------------------</span>
func2<span class="o">()</span>
<span class="o">{</span>
  <span class="nb">let </span><span class="nv">r</span><span class="o">=</span><span class="nv">$1</span><span class="k">*</span><span class="nv">$1</span>
  <span class="nb">echo</span> <span class="nv">$r</span>
<span class="o">}</span>
<span class="c">#-------------------------------</span>
<span class="nv">var</span><span class="o">=</span>123
func2 <span class="nv">$var</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># recursive function example</span>
<span class="c"># calculation of factorial</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>
<span class="c">#-------------------------------</span>
factorial<span class="o">()</span>
<span class="o">{</span>
  <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> -gt <span class="s2">"1"</span> <span class="o">]</span>
  <span class="k">then
    </span><span class="nv">i</span><span class="o">=</span><span class="sb">`</span>expr <span class="nv">$1</span> - 1<span class="sb">`</span>
    <span class="nv">j</span><span class="o">=</span><span class="sb">`</span>factorial <span class="nv">$i</span><span class="sb">`</span>
    <span class="nv">k</span><span class="o">=</span><span class="sb">`</span>expr <span class="nv">$1</span> <span class="se">\*</span> <span class="nv">$j</span><span class="sb">`</span>
    <span class="nb">echo</span> <span class="nv">$k</span>
  <span class="k">else
    </span><span class="nb">echo </span>1
  <span class="k">fi</span>
<span class="o">}</span>
<span class="c">#-------------------------------</span>
<span class="nb">read </span>x
factorial <span class="nv">$x</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># using of function library ????????</span>
<span class="c">#---------------------------------------------------</span>

file with name my.lb

func2<span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="nv">$1$1</span>
<span class="o">}</span>
func3<span class="o">()</span>
<span class="o">{</span>
  <span class="nb">echo</span> <span class="nv">$1$1$1</span>
<span class="o">}</span>

shell program:

<span class="c">#!/bin/sh</span>

./my.lb

<span class="nv">var</span><span class="o">=</span>123

func2 123

func3 123<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># floating point numbers</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="c"># does not support !!!!</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># simpiest array : declaration, element access and assignment</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nv">arr</span><span class="o">=(</span>aa bb cc dd<span class="o">)</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[0]</span><span class="k">}</span> <span class="c"># curly bracket notation</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[1]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[2]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[3]</span><span class="k">}</span>

arr[2]<span class="o">=</span><span class="s2">"CCCCCCC"</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[2]</span><span class="k">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># number of elements in array</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nv">arr</span><span class="o">=(</span>aa bb cc dd<span class="o">)</span>

<span class="nv">n</span><span class="o">=</span><span class="k">${#</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="nv">$n</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># array with filenames of current directory</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">arr</span><span class="o">=(</span><span class="k">*</span><span class="o">)</span>  <span class="c"># * is list of all file and dir names</span>

<span class="nv">n</span><span class="o">=</span><span class="k">${#</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="s2">"number of files and dirs "</span><span class="nv">$n</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[0]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[1]</span><span class="k">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># print all array elements -not good</span>
<span class="c"># works then no holes in indexes</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nv">arr</span><span class="o">=(</span>aa bb cc dd ee ff gg<span class="o">)</span>
<span class="nv">n</span><span class="o">=</span><span class="k">${#</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span>
<span class="nv">i</span><span class="o">=</span>0
<span class="k">while </span><span class="nb">test</span> <span class="nv">$i</span> -lt <span class="nv">$n</span>
<span class="k">do
  </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="k">}</span>
  <span class="nb">let </span><span class="nv">i</span><span class="o">=</span><span class="nv">$i</span>+1
<span class="k">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># dynamic expansion of array</span>
<span class="c"># one array element in reality is couple (index, value)</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nv">arr</span><span class="o">=()</span>

<span class="nv">n</span><span class="o">=</span><span class="k">${#</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="s2">"number of array elements "</span><span class="nv">$n</span>

arr[0]<span class="o">=</span>a
<span class="nv">n</span><span class="o">=</span><span class="k">${#</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="s2">"number of array elements "</span><span class="nv">$n</span>

arr[1]<span class="o">=</span>b
<span class="nv">n</span><span class="o">=</span><span class="k">${#</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="s2">"number of array elements "</span><span class="nv">$n</span>

arr[2]<span class="o">=</span>c
<span class="nv">n</span><span class="o">=</span><span class="k">${#</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="s2">"number of array elements "</span><span class="nv">$n</span>

arr[10]<span class="o">=</span>h
<span class="nv">n</span><span class="o">=</span><span class="k">${#</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="s2">"number of array elements "</span><span class="nv">$n</span>


<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[10]</span><span class="k">}</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[4]</span><span class="k">}</span> <span class="c"># empty string</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[6]</span><span class="k">}</span> <span class="c"># empty string</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># get all array and print it</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nv">arr</span><span class="o">=(</span>aa bb cc dd ee ff gg<span class="o">)</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[*]</span><span class="k">}</span> <span class="c"># all array</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[@]</span>:0<span class="k">}</span>   <span class="c"># aa bb cc dd ee ff gg</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[@]</span>:1<span class="k">}</span>   <span class="c"># bb cc dd ee ff gg</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[@]</span>:2:3<span class="k">}</span> <span class="c"># cc dd ee</span>

<span class="k">for </span>i <span class="k">in</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[*]</span><span class="k">}</span>
<span class="k">do
  </span><span class="nb">echo</span> <span class="nv">$i</span>
<span class="k">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># adding element to array</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nv">arr</span><span class="o">=(</span>aa bb cc dd ee ff gg<span class="o">)</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[*]</span><span class="k">}</span>

<span class="nv">arr</span><span class="o">=(</span> <span class="s2">"</span><span class="k">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span> <span class="s2">"newElem"</span> <span class="o">)</span> <span class="c"># from right</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[*]</span><span class="k">}</span>

<span class="nv">arr</span><span class="o">=(</span> <span class="s2">"newElem"</span> <span class="s2">"</span><span class="k">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span> <span class="o">)</span> <span class="c"># from left</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[*]</span><span class="k">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># move last element from array</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>


<span class="nv">arr</span><span class="o">=(</span>aa bb cc dd ee ff gg<span class="o">)</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[*]</span><span class="k">}</span>

<span class="nb">unset </span>arr[<span class="k">${#</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span>-1] <span class="c">#  move last element</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[*]</span><span class="k">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># copying of array</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nv">arr</span><span class="o">=(</span>aa bb cc dd ee ff gg<span class="o">)</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr</span><span class="p">[*]</span><span class="k">}</span>

<span class="nv">arr2</span><span class="o">=(</span> <span class="s2">"</span><span class="k">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span> <span class="o">)</span>

<span class="nb">echo</span> <span class="k">${</span><span class="nv">arr2</span><span class="p">[*]</span><span class="k">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># get substring from string</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s2">"long string input=?"</span>
<span class="nb">read </span>st

<span class="nv">st2</span><span class="o">=</span><span class="k">${</span><span class="nv">st</span>:2:4<span class="k">}</span>

<span class="nb">echo</span> <span class="nv">$st2</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># substring replacement "abc" to "xyz"</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s2">"string input=?"</span>
<span class="nb">read </span>str

<span class="nv">st2</span><span class="o">=</span><span class="k">${</span><span class="nv">str</span><span class="p">/abc/xyz</span><span class="k">}</span> <span class="c"># only ones</span>

<span class="nb">echo</span> <span class="nv">$st2</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># search of character 'a' in a string</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s2">"string input=?"</span>
<span class="nb">read </span>str

<span class="nv">pos</span><span class="o">=</span><span class="sb">`</span>expr index <span class="nv">$str</span> a<span class="sb">`</span>

<span class="nb">echo</span> <span class="s2">"position of the first 'a' = "</span><span class="nv">$pos</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># string list counting</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="k">for </span>i <span class="k">in </span>aa bb cc dd ee ff gg hh
<span class="k">do
  </span><span class="nb">echo</span> <span class="nv">$i</span>
<span class="k">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># command line arguments</span>
<span class="c"># separated by spaces</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="nv">$0</span>  <span class="c"># script file name</span>

<span class="nb">echo</span> <span class="nv">$1</span>  <span class="c"># first argument</span>
<span class="nb">echo</span> <span class="nv">$2</span>  <span class="c"># second argument</span>
<span class="nb">echo</span> <span class="nv">$3</span>  <span class="c"># third argument</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># command line arguments without script name number</span>
<span class="c"># all command line without script name</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="nv">$# </span> <span class="c"># argument number</span>

<span class="nb">echo</span> <span class="nv">$*</span>  <span class="c"># command line</span>

<span class="nb">echo</span> <span class="nv">$@</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># get all files and dir names</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="k">*</span>  <span class="c"># file and dir names of current dir</span>

<span class="k">for </span>i <span class="k">in</span> <span class="k">*</span>
<span class="k">do
  </span><span class="nb">echo</span> <span class="nv">$i</span>
<span class="k">done

</span><span class="nb">echo</span> ../<span class="k">*</span> <span class="c"># file and dir names of parent dir</span>

<span class="k">*</span>/ just close comments<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># file search from root dir      ???????</span>
<span class="c"># file name - parameter from command line</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">start</span><span class="o">=</span><span class="nv">$HOME</span>
date
find <span class="nv">$start</span> -name <span class="nv">$1</span> -print<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># list of all files with extension .txt     !!!!!!</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="k">*</span>.txt<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># combine a set of text files in one file use</span>
<span class="c"># script &gt;targetfile.lst , not txt-file !!!</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">lst</span><span class="o">=</span><span class="k">*</span>.txt

<span class="k">for </span>i <span class="k">in</span> <span class="nv">$lst</span>
<span class="k">do
  </span><span class="nb">echo
  echo</span> <span class="s2">"======================================"</span>
  <span class="nb">echo</span> <span class="s2">"File "</span><span class="nv">$i</span>
  <span class="nb">echo</span> <span class="s2">"======================================"</span>
  cat &lt;<span class="nv">$i</span>
<span class="k">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># create new file and write string to it</span>
<span class="c"># file name from command string - variable $1</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s2">"String=?"</span>
<span class="nb">read </span>str

<span class="nb">echo</span> <span class="nv">$str</span> &gt;<span class="nv">$1</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># read textlines from console and add them to file</span>
<span class="c"># file name from command string - variable $1</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s2">"Add strings=?"</span>
<span class="nv">str</span><span class="o">=</span><span class="s2">"1"</span>

<span class="k">while</span> <span class="o">[</span> <span class="nv">$str</span> <span class="o">]</span>
<span class="k">do
  </span><span class="nb">read </span>str
  <span class="nb">echo</span> <span class="nv">$str</span> &gt;&gt;<span class="nv">$1</span>
<span class="k">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># read first string from text file</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nb">read </span>str &lt;<span class="nv">$1</span>
<span class="nb">echo</span> <span class="nv">$str</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre><span class="c">#---------------------------------------------------</span>
<span class="c"># text file reading</span>
<span class="c"># script res.txt</span>
<span class="c">#---------------------------------------------------</span>
<span class="c">#!/bin/sh</span>

<span class="nv">str</span><span class="o">=</span><span class="s2">"1"</span>

<span class="k">while</span> <span class="o">[</span> <span class="nv">$str</span> <span class="o">]</span>
<span class="k">do
  </span><span class="nb">read </span>str
  <span class="nb">echo</span> <span class="nv">$str</span>
  <span class="nb">echo</span> <span class="nv">$str</span>
<span class="k">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure> <div class="post-div"> <span class="nav-hint-mob"> You can also navigate with left [or] right arrows </span> <a class="next-link" href="/blog/2015/03/pythonsnippets"><span>next&#09;&#8594;</span></a> </div> </article> <div class="share-page"> Share this on <i style="margin-left:10px;" class="fa fa-arrow-circle-o-right"></i> <ul> <li> <a href="https://twitter.com/intent/tweet?text=Bash Snippets&url=http://rrevanth.github.io/blog/2015/03/bashsnippets&via=revanth001reva&related=revanth001reva" rel="nofollow" target="_blank" title="Share on Twitter">Twitter</a> </li> <li> <a href="https://facebook.com/sharer.php?u=http://rrevanth.github.io/blog/2015/03/bashsnippets" rel="nofollow" target="_blank" title="Share on Facebook">Facebook</a> </li> <li> <a href="https://plus.google.com/share?url=http://rrevanth.github.io/blog/2015/03/bashsnippets" rel="nofollow" target="_blank" title="Share on Google+">Google+</a> </li> </ul> </div> <div id="spot-im-frame-inpage"></div> </div> <script type="text/javascript">function leftArrowPressed(){window.location.href=""}function rightArrowPressed(){window.location.href="/blog/2015/03/pythonsnippets"}document.onkeydown=function(a){a=a||window.event;switch(a.keyCode){case 37:leftArrowPressed();break;case 39:rightArrowPressed();break}};</script> </div> </div> <footer class="site-footer"> <a href="/feed.xml"><i title="Subscribe" class="fa fa-rss fa-rss-footer"></i></a> <div class="wrapper"> <div class="wrapper"> <div class="social-media-list"> <a href="https://github.com/rrevanth" target="_blank" class="fa fa-github"> </a> <a href="https://twitter.com/revanth001reva" target="_blank" class="fa fa-twitter-square"> </a> <a href="https://instagram.com/revanth001reva" target="_blank" class="fa fa-instagram"> </a> <a href="https://linkedin.com/in/revanthrevoori" target="_blank" class="fa fa-linkedin"> </a> </div> </div> <div class="footer-col-wrapper"> <p>© 2015 Revanth Revoori</p> </div> </div> </footer> <script>checkloadjscssfile("//d1cq0y1aounrbr.cloudfront.net/js/embedly-platform.js","js");</script> <noscript> <iframe src="//www.googletagmanager.com/ns.html?id=GTM-NGHKWG" height="0" width="0" style="display:none;visibility:hidden"></iframe> </noscript> <script>(function(b,m,h,a,g){b[a]=b[a]||[];b[a].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var k=m.getElementsByTagName(h)[0],e=m.createElement(h),c=a!="dataLayer"?"&l="+a:"";e.async=true;e.src="//www.googletagmanager.com/gtm.js?id="+g+c;k.parentNode.insertBefore(e,k)})(window,document,"script","dataLayer","GTM-NGHKWG");</script> </body> </html>